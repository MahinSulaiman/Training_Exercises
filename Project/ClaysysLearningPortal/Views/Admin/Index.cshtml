@model IEnumerable<ClaysysLearningPortal.Models.Courses>
@{
    var username = User.Identity.Name;
}

@{
    Layout = "_LayoutAdmin";
}

@if (TempData["InfoMessage"] != null)
{
    <div class="alert alert-info alert-dismissible fade show" role="alert">
        @TempData["InfoMessage"]
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
}
else if (TempData["SuccessMessage"] != null)
{
    <div class="alert alert-success alert-dismissible fade show" role="alert">
        @TempData["SuccessMessage"]
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
}
else if (TempData["ErrorMessage"] != null)
{
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
        @TempData["ErrorMessage"]
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
}

<div class="container">
    <h1>Welcome @username</h1>
    <a class="btn btn-primary" asp-area="" asp-controller="Admin" asp-action="CreateCourse">Create Course</a>
<table class="table">
    <thead>
        <tr>         
            <th>
                @Html.DisplayNameFor(model => model.Title)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Category)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Description)
            </th>
            @* <th> *@
            @*     @Html.DisplayNameFor(model => model.CourseFile) *@
            @* </th> *@
            <th></th>
        </tr>
    </thead>
    <tbody>
@foreach (var item in Model) {
        <tr>
          
            <td>
                @Html.DisplayFor(modelItem => item.Title)
            </td>
            <td>
                 @Html.DisplayFor(modelItem => item.Category) 
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Description)
            </td>
            @* <td> *@
            @*     @Html.DisplayFor(modelItem => item.CourseFile) *@
            @* </td> *@
            <td>
                @Html.ActionLink("Edit", "EditCourse",  new { courseId = item.CourseId }) |
                @Html.ActionLink("Details", "CourseDetails", new { courseId=item.CourseId }) |
                @Html.ActionLink("Delete", "DeleteCourse", new { courseId = item.CourseId })
            </td>
        </tr>
}
    </tbody>
</table>
    @section Scripts {
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>
    }
</div>

